(function(n){typeof define=="function"&&define.amd?define("inputmask",["inputmask.dependencyLib"],n):typeof exports=="object"?module.exports=n(require("./inputmask.dependencyLib")):n(window.dependencyLib||jQuery)})(function(n){function t(i,r,u){if(!(this instanceof t))return new t(i,r,u);this.el=undefined;this.events={};this.maskset=undefined;this.refreshValue=!1;u!==!0&&(n.isPlainObject(i)?r=i:(r=r||{},r.alias=i),this.opts=n.extend(!0,{},this.defaults,r),this.noMasksCache=r&&r.definitions!==undefined,this.userOptions=r||{},this.isRTL=this.opts.numericInput,e(this.opts.alias,r,this.opts))}function e(i,r,u){var f=t.prototype.aliases[i];return f?(f.alias&&e(f.alias,undefined,u),n.extend(!0,u,f),n.extend(!0,u,r),!0):(u.mask===null&&(u.mask=i),!1)}function r(i,r){function f(i,u,f){var o,e;return i===null||i===""?undefined:(i.length===1&&f.greedy===!1&&f.repeat!==0&&(f.placeholder=""),(f.repeat>0||f.repeat==="*"||f.repeat==="+")&&(o=f.repeat==="*"?0:f.repeat==="+"?1:f.repeat,i=f.groupmarker.start+i+f.groupmarker.end+f.quantifiermarker.start+o+","+f.repeat+f.quantifiermarker.end),t.prototype.masksCache[i]===undefined||r===!0?(e={mask:i,maskToken:t.prototype.analyseMask(i,f),validPositions:{},_buffer:undefined,buffer:undefined,tests:{},metadata:u,maskLength:undefined},r!==!0&&(t.prototype.masksCache[f.numericInput?i.split("").reverse().join(""):i]=e,e=n.extend(!0,{},t.prototype.masksCache[f.numericInput?i.split("").reverse().join(""):i]))):e=n.extend(!0,{},t.prototype.masksCache[f.numericInput?i.split("").reverse().join(""):i]),e)}var e,u;if(n.isFunction(i.mask)&&(i.mask=i.mask(i)),n.isArray(i.mask)){if(i.mask.length>1)return i.keepStatic=i.keepStatic===null?!0:i.keepStatic,u=i.groupmarker.start,n.each(i.numericInput?i.mask.reverse():i.mask,function(t,r){u.length>1&&(u+=i.groupmarker.end+i.alternatormarker+i.groupmarker.start);u+=r.mask===undefined||n.isFunction(r.mask)?r:r.mask}),u+=i.groupmarker.end,f(u,i.mask,i);i.mask=i.mask.pop()}return i.mask&&(e=i.mask.mask===undefined||n.isFunction(i.mask.mask)?f(i.mask,i.mask,i):f(i.mask.mask,i.mask,i)),e}function i(r,u,e){function ii(n,t,i){t=t||0;var o=[],s,r=0,u,f,h=v();at=l!==undefined?l.maxLength:undefined;at===-1&&(at=undefined);do n===!0&&c().validPositions[r]?(f=c().validPositions[r],u=f.match,s=f.locator.slice(),o.push(i===!0?f.input:i===!1?u.nativeDef:g(r,u))):(f=ht(r,s,r-1),u=f.match,s=f.locator.slice(),(e.jitMasking===!1||r<h||typeof e.jitMasking=="number"&&isFinite(e.jitMasking)&&e.jitMasking>r)&&o.push(i===!1?u.nativeDef:g(r,u))),r++;while((at===undefined||r<at)&&(u.fn!==null||u.def!=="")||t>r);return o[o.length-1]===""&&o.pop(),c().maskLength=r+1,o}function c(){return u}function it(n){var t=c();t.buffer=undefined;n!==!0&&(t._buffer=undefined,t.validPositions={},t.p=0)}function v(n,t,i){var u=-1,f=-1,e=i||c().validPositions,o,r;n===undefined&&(n=-1);for(o in e)r=parseInt(o),e[r]&&(t||e[r].generatedInput!==!0)&&(r<=n&&(u=r),r>=n&&(f=r));return u!==-1&&n-u>1||f<n?u:f}function ci(t,i,r,u){function a(n){var t=c().validPositions[n],i,r;return t!==undefined&&t.match.fn===null?(i=c().validPositions[n-1],r=c().validPositions[n+1],i!==undefined&&r!==undefined):!1}var f,o=t,h=n.extend(!0,{},c().validPositions),l=!1,s;for(c().p=t,f=i-1;f>=o;f--)c().validPositions[f]!==undefined&&(r===!0||(c().validPositions[f].match.optionality||!a(f))&&e.canClearPosition(c(),f,v(),u,e)!==!1)&&delete c().validPositions[f];for(it(!0),f=o+1;f<=v();){while(c().validPositions[o]!==undefined)o++;f<o&&(f=o+1);c().validPositions[f]===undefined&&tt(f)?f++:(s=ht(f),l===!1&&h[o]&&h[o].match.def===s.match.def?(c().validPositions[o]=n.extend(!0,{},h[o]),c().validPositions[o].input=s.input,delete c().validPositions[f],f++):li(o,s.match.def)?st(o,s.input||g(f),!0)!==!1&&(delete c().validPositions[f],f++,l=!0):tt(f)||(f++,o--),o++)}it(!0)}function yt(n,t){for(var i,f=n,o=v(),r=c().validPositions[o]||ut(0)[0],s=r.alternation!==undefined?r.locator[r.alternation].toString().split(","):[],u=0;u<f.length;u++)if(i=f[u],i.match&&(e.greedy&&i.match.optionalQuantifier!==!0||(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0)&&(r.alternation===undefined||r.alternation!==i.alternation||i.locator[r.alternation]!==undefined&&ri(i.locator[r.alternation].toString().split(","),s))&&(t!==!0||i.match.fn===null&&!/[0-9a-bA-Z]/.test(i.match.def)))break;return i}function ht(n,t,i){return c().validPositions[n]||yt(ut(n,t?t.slice():t,i))}function ot(n){return c().validPositions[n]?c().validPositions[n]:ut(n)[0]}function li(n,t){for(var u=!1,r=ut(n),i=0;i<r.length;i++)if(r[i].match&&r[i].match.def===t){u=!0;break}return u}function ut(t,i,r){function y(i,r,o,h){function l(o,h,p){function ht(t,i){var r=n.inArray(t,i.matches)===0;return r||n.each(i.matches,function(n,u){if(u.isQuantifier===!0&&(r=ht(t,i.matches[n-1]),r))return!1}),r}function at(t,i,r){var u,f;return(c().tests[t]||c().validPositions[t])&&n.each(c().tests[t]||[c().validPositions[t]],function(n,t){var o=r!==undefined?r:t.alternation,e=t.locator[o]!==undefined?t.locator[o].toString().indexOf(i):-1;(f===undefined||e<f)&&e!==-1&&(u=t,f=e)}),u?u.locator.slice((r!==undefined?r:u.alternation)+1):r!==undefined?at(t,i):undefined}function wt(n,i){return n.match.fn===null&&i.match.fn!==null?i.match.fn.test(n.match.def,c(),t,!1,e,!1):!1}var vt,ft,rt,et,w,lt,ot,b,it,nt,st;if(f>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+c().mask;if(f===t&&o.matches===undefined)return u.push({match:o,locator:h.reverse(),cd:v}),!0;if(o.matches!==undefined){if(o.isGroup&&p!==o){if(o=l(i.matches[n.inArray(o,i.matches)+1],h),o)return!0}else if(o.isOptional){if(vt=o,o=y(o,r,h,p),o)if(s=u[u.length-1].match,ht(s,vt))a=!0,f=t;else return!0}else if(o.isAlternator){var ut=o,tt=[],ct,bt=u.slice(),yt=h.length,k=r.length>0?r.shift():-1;if(k===-1||typeof k=="string"){var kt=f,pt=r.slice(),d=[],g;if(typeof k=="string")d=k.split(",");else for(g=0;g<ut.matches.length;g++)d.push(g);for(ft=0;ft<d.length;ft++)for(g=parseInt(d[ft]),u=[],r=at(f,g,yt)||pt.slice(),o=l(ut.matches[g]||i.matches[g],[g].concat(h),p)||o,o!==!0&&o!==undefined&&d[d.length-1]<ut.matches.length&&(rt=n.inArray(o,i.matches)+1,i.matches.length>rt&&(o=l(i.matches[rt],[rt].concat(h.slice(1,h.length)),p),o&&(d.push(rt.toString()),n.each(u,function(n,t){t.alternation=h.length-1})))),ct=u.slice(),f=kt,u=[],et=0;et<ct.length;et++){for(w=ct[et],lt=!1,w.alternation=w.alternation||yt,ot=0;ot<tt.length;ot++)if(b=tt[ot],(typeof k!="string"||n.inArray(w.locator[w.alternation].toString(),d)!==-1)&&(w.match.def===b.match.def||wt(w,b))){lt=w.match.nativeDef===b.match.nativeDef;w.alternation==b.alternation&&b.locator[b.alternation].toString().indexOf(w.locator[w.alternation])===-1&&(b.locator[b.alternation]=b.locator[b.alternation]+","+w.locator[w.alternation],b.alternation=w.alternation,w.match.fn==null&&(b.na=b.na||w.locator[w.alternation].toString(),b.na.indexOf(w.locator[w.alternation])===-1&&(b.na=b.na+","+w.locator[w.alternation])));break}lt||tt.push(w)}typeof k=="string"&&(tt=n.map(tt,function(t,i){var e,r,f,u;if(isFinite(i)){for(r=t.alternation,f=t.locator[r].toString().split(","),t.locator[r]=undefined,t.alternation=undefined,u=0;u<f.length;u++)e=n.inArray(f[u],d)!==-1,e&&(t.locator[r]!==undefined?(t.locator[r]+=",",t.locator[r]+=f[u]):t.locator[r]=parseInt(f[u]),t.alternation=r);if(t.locator[r]!==undefined)return t}}));u=bt.concat(tt);f=t;a=u.length>0;r=pt.slice()}else o=l(ut.matches[k]||i.matches[k],[k].concat(h),p);if(o)return!0}else if(o.isQuantifier&&p!==i.matches[n.inArray(o,i.matches)-1]){for(it=o,nt=r.length>0?r.shift():0;nt<(isNaN(it.quantifier.max)?nt+1:it.quantifier.max)&&f<=t;nt++)if(st=i.matches[n.inArray(it,i.matches)-1],o=l(st,[nt].concat(h),st),o)if(s=u[u.length-1].match,s.optionalQuantifier=nt>it.quantifier.min-1,ht(s,st))if(nt>it.quantifier.min-1){a=!0;f=t;break}else return!0;else return!0}else if(o=y(o,r,h,p),o)return!0}else f++}for(var w,p=r.length>0?r.shift():0;p<i.matches.length;p++)if(i.matches[p].isQuantifier!==!0){if(w=l(i.matches[p],[p].concat(o),h),w&&f===t)return w;if(f>t)break}}function d(t){var i=[];return n.isArray(t)||(t=[t]),t.length>0&&(t[0].alternation===undefined?(i=yt(t.slice()).locator.slice(),i.length===0&&(i=t[0].locator.slice())):n.each(t,function(n,t){if(t.def!=="")if(i.length===0)i=t.locator.slice();else for(var r=0;r<i.length;r++)t.locator[r]&&i[r].toString().indexOf(t.locator[r])===-1&&(i[r]+=","+t.locator[r])})),i}function p(n){return e.keepStatic&&t>0&&n.length>1+(n[n.length-1].match.def===""?1:0)&&n[0].match.optionality!==!0&&n[0].match.optionalQuantifier!==!0&&n[0].match.fn===null&&!/[0-9a-bA-Z]/.test(n[0].match.def)?[yt(n)]:n}var b=c().maskToken,f=i?r:0,l=i?i.slice():[0],u=[],a=!1,s,v=i?i.join(""):"",o,w,h,k;if(t>-1){if(i===undefined){for(o=t-1;(w=c().validPositions[o]||c().tests[o])===undefined&&o>-1;)o--;w!==undefined&&o>-1&&(l=d(w),v=l.join(""),f=o)}if(c().tests[t]&&c().tests[t][0].cd===v)return p(c().tests[t]);for(h=l.shift();h<b.length;h++)if(k=y(b[h],l,[h]),k&&f===t||f>t)break}return((u.length===0||a)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:v}),i!==undefined&&c().tests[t])?p(n.extend(!0,[],u)):(c().tests[t]=n.extend(!0,[],u),p(c().tests[t]))}function d(){return c()._buffer===undefined&&(c()._buffer=ii(!1,1),c().buffer===undefined&&c()._buffer.slice()),c()._buffer}function a(n){return(c().buffer===undefined||n===!0)&&(c().buffer=ii(!0,v(),!0)),c().buffer}function kt(n,t,i){var r;if(n===!0)it(),n=0,t=i.length;else for(r=n;r<t;r++)delete c().validPositions[r];for(r=n;r<t;r++)it(!0),i[r]!==e.skipOptionalPartCharacter&&st(r,i[r],!0,!0)}function pi(n,i,r){switch(e.casing||i.casing){case"upper":n=n.toUpperCase();break;case"lower":n=n.toLowerCase();break;case"title":var u=c().validPositions[r-1];n=r===0||u&&u.input===String.fromCharCode(t.keyCode.SPACE)?n.toUpperCase():n.toLowerCase()}return n}function ri(t,i,r){for(var u,c=e.greedy?i:i.slice(0,1),o=!1,s=r!==undefined?r.split(","):[],h,f=0;f<s.length;f++)(h=t.indexOf(s[f]))!==-1&&t.splice(h,1);for(u=0;u<t.length;u++)if(n.inArray(t[u],c)!==-1){o=!0;break}return o}function st(i,r,u,f,o){function y(n){var t=k?n.begin-n.end>1||n.begin-n.end==1&&e.insertMode:n.end-n.begin>1||n.end-n.begin==1&&e.insertMode;return t&&n.begin===0&&n.end===c().maskLength?"full":t}function w(t,r,u){var o=!1;return n.each(ut(t),function(s,h){for(var w,p,tt,b,l=h.match,rt=r?1:0,k="",nt=l.cardinality;nt>rt;nt--)k+=wi(t-(nt-1));if(r&&(k+=r),a(!0),o=l.fn!=null?l.fn.test(k,c(),t,u,e,y(i)):(r===l.def||r===e.skipOptionalPartCharacter)&&l.def!==""?{c:g(t,l,!0)||l.def,pos:t}:!1,o!==!1){if(w=o.c!==undefined?o.c:r,w=w===e.skipOptionalPartCharacter&&l.fn===null?g(t,l,!0)||l.def:w,p=t,tt=a(),o.remove!==undefined&&(n.isArray(o.remove)||(o.remove=[o.remove]),n.each(o.remove.sort(function(n,t){return t-n}),function(n,t){ci(t,t+1,!0)})),o.insert!==undefined&&(n.isArray(o.insert)||(o.insert=[o.insert]),n.each(o.insert.sort(function(n,t){return n-t}),function(n,t){st(t.pos,t.c,!0,f)})),o.refreshFromBuffer){if(b=o.refreshFromBuffer,u=!0,kt(b===!0?b:b.start,b.end,tt),o.pos===undefined&&o.c===undefined)return o.pos=v(),!1;if(p=o.pos!==undefined?o.pos:t,p!==t)return o=n.extend(o,st(p,w,!0,f)),!1}else if(o!==!0&&o.pos!==undefined&&o.pos!==t&&(p=o.pos,kt(t,p,a().slice()),p!==t))return o=n.extend(o,st(p,w,!0)),!1;return o!==!0&&o.pos===undefined&&o.c===undefined?!1:(s>0&&it(!0),d(p,n.extend({},h,{input:pi(w,l,p)}),f,y(i))||(o=!1),!1)}}),o}function et(t,i,r){for(var nt=n.extend(!0,{},c().validPositions),d,h,y=!1,l,o,s,w=v(),p,u,b,k,g,a=c().validPositions[w];w>=0;w--)if(l=c().validPositions[w],l&&l.alternation!==undefined){if(d=w,h=c().validPositions[d].alternation,a.locator[l.alternation]!==l.locator[l.alternation])break;a=l}return h!==undefined&&(u=parseInt(d),b=a.locator[a.alternation||h]!==undefined?a.locator[a.alternation||h]:p[0],b.length>0&&(b=b.split(",")[0]),k=c().validPositions[u],g=c().validPositions[u-1],n.each(ut(u,g?g.locator:undefined,u-1),function(l,a){var w,et,rt,ut;for(p=a.locator[h]?a.locator[h].toString().split(","):[],w=0;w<p.length;w++){var d=[],tt=0,g=0,ft=!1;if(b<p[w]&&(a.na===undefined||n.inArray(p[w],a.na.split(","))===-1)){for(c().validPositions[u]=n.extend(!0,{},a),et=c().validPositions[u].locator,c().validPositions[u].locator[h]=parseInt(p[w]),a.match.fn==null?(k.input!==a.match.def&&(ft=!0,k.generatedInput!==!0&&d.push(k.input)),g++,c().validPositions[u].generatedInput=!/[0-9a-bA-Z]/.test(a.match.def),c().validPositions[u].input=a.match.def):c().validPositions[u].input=k.input,o=u+1;o<v(undefined,!0)+1;o++)s=c().validPositions[o],s&&s.generatedInput!==!0&&/[0-9a-bA-Z]/.test(s.input)?d.push(s.input):o<t&&tt++,delete c().validPositions[o];for(ft&&d[0]===a.match.def&&d.shift(),it(!0),y=!0;d.length>0;)if(rt=d.shift(),rt!==e.skipOptionalPartCharacter&&!(y=st(v(undefined,!0)+1,rt,!1,f,!0)))break;if(y){for(c().validPositions[u].locator=et,ut=v(t)+1,o=u+1;o<v()+1;o++)s=c().validPositions[o],(s===undefined||s.match.fn==null)&&o<t+(g-tt)&&g++;t=t+(g-tt);y=st(t>ut?ut:t,i,r,f,!0)}if(y)return!1;it();c().validPositions=n.extend(!0,{},nt)}}})),y}function ot(t,i){var o=c().validPositions[i],e,s,u;if(o)for(e=o.locator,s=e.length,u=t;u<i;u++)if(c().validPositions[u]===undefined&&!tt(u,!0)){var f=ut(u).slice(),r=yt(f,!0),h=-1;f[f.length-1].match.def===""&&f.pop();n.each(f,function(n,t){for(var i=0;i<s;i++)if(t.locator[i]!==undefined&&ri(t.locator[i].toString().split(","),e[i].toString().split(","),t.na))h<i&&(h=i,r=t);else{var u=e[i],f=r.locator[i],o=t.locator[i];u-f>Math.abs(u-o)&&(r=t);break}});r=n.extend({},r,{input:g(u,r.match,!0)||r.match.def});r.generatedInput=!0;d(u,r,!0);c().validPositions[i]=undefined;w(i,o.input,!0)}}function d(t,i,r,u){var l,p,o,s,f,y;if(u||e.insertMode&&c().validPositions[t]!==undefined&&r===undefined){for(l=n.extend(!0,{},c().validPositions),p=v(undefined,!0),o=t;o<=p;o++)delete c().validPositions[o];c().validPositions[t]=n.extend(!0,{},i);var h=!0,a,w=c().validPositions,b=!1,k=c().maskLength;for(o=a=t;o<=p;o++){if(s=l[o],s!==undefined)for(f=a;f<c().maskLength&&(s.match.fn===null&&w[o]&&(w[o].match.optionalQuantifier===!0||w[o].match.optionality===!0)||s.match.fn!=null);){if(f++,b===!1&&l[f]&&l[f].match.def===s.match.def)c().validPositions[f]=n.extend(!0,{},l[f]),c().validPositions[f].input=s.input,nt(f),a=f,h=!0;else if(li(f,s.match.def))y=st(f,s.input,!0,!0),h=y!==!1,a=y.caret||y.insert?v():f,b=!0;else if(h=s.generatedInput===!0,!h&&f>=c().maskLength-1)break;if(c().maskLength<k&&(c().maskLength=k),h)break}if(!h)break}if(!h)return c().validPositions=n.extend(!0,{},l),it(!0),!1}else c().validPositions[t]=n.extend(!0,{},i);return it(!0),!0}function nt(t){for(var r,u,i=t-1;i>-1;i--)if(c().validPositions[i])break;for(i++;i<t;i++)c().validPositions[i]===undefined&&(e.jitMasking===!1||e.jitMasking>i)&&(u=ut(i,ht(i-1).locator,i-1).slice(),u[u.length-1].match.def===""&&u.pop(),r=yt(u),r&&(r.match.def===e.radixPointDefinitionSymbol||!tt(i,!0)||n.inArray(e.radixPoint,a())<i&&r.match.fn&&r.match.fn.test(g(i),c(),i,!1,e))&&(s=w(i,g(i,r.match,!0)||(r.match.fn==null?r.match.def:g(i)!==""?g(i):a()[i]),!0),s!==!1&&(c().validPositions[s.pos||i].generatedInput=!0)))}var h,s,rt,b,l,ft;if(u=u===!0,h=i,i.begin!==undefined&&(h=k&&!y(i)?i.end:i.begin),s=!1,rt=n.extend(!0,{},c().validPositions),nt(h),y(i)&&(fi(undefined,t.keyCode.DELETE,i),h=c().p),h<c().maskLength&&(s=w(h,r,u),(!u||f===!0)&&s===!1))if(b=c().validPositions[h],b&&b.match.fn===null&&(b.match.def===r||r===e.skipOptionalPartCharacter))s={caret:p(h)};else if((e.insertMode||c().validPositions[p(h)]===undefined)&&!tt(h,!0))for(l=h+1,ft=p(h);l<=ft;l++)if(s=w(l,r,u),s!==!1){ot(h,s.pos!==undefined?s.pos:l);h=l;break}return s===!1&&e.keepStatic&&!u&&o!==!0&&(s=et(h,r,u)),s===!0&&(s={pos:h}),n.isFunction(e.postValidation)&&s!==!1&&!u&&f!==!0&&(s=e.postValidation(a(!0),s,e)?s:!1),s.pos===undefined&&(s.pos=h),s===!1&&(it(!0),c().validPositions=n.extend(!0,{},rt)),s}function tt(n,t){var i,r;return(t?(i=ht(n).match,i.def===""&&(i=ot(n).match)):i=ot(n).match,i.fn!=null)?i.fn:t!==!0&&n>-1?(r=ut(n),r.length>1+(r[r.length-1].match.def===""?1:0)):!1}function p(n,t){var r=c().maskLength,i;if(n>=r)return r;for(i=n;++i<r&&(t===!0&&(ot(i).match.newBlockMarker!==!0||!tt(i))||t!==!0&&!tt(i)););return i}function vt(n,t){var i=n,r;if(i<=0)return 0;while(--i>0&&(t===!0&&ot(i).match.newBlockMarker!==!0||t!==!0&&!tt(i)&&(r=ut(i),r.length<2||r.length===2&&r[1].match.def==="")));return i}function wi(n){return c().validPositions[n]===undefined?g(n):c().validPositions[n].input}function et(t,i,r,u,f){var o,s;u&&n.isFunction(e.onBeforeWrite)&&(o=e.onBeforeWrite(u,i,r,e),o&&(o.refreshFromBuffer&&(s=o.refreshFromBuffer,kt(s===!0?s:s.start,s.end,o.buffer||i),i=a(!0)),r!==undefined&&(r=o.caret!==undefined?o.caret:r)));t.inputmask._valueSet(i.join(""));r!==undefined&&(u===undefined||u.type!=="blur")?w(t,r):ei(t,i,r);f===!0&&(bt=!0,n(t).trigger("input"))}function g(t,i,r){var u,o,s,f;if(i=i||ot(t).match,i.placeholder!==undefined||r===!0)return n.isFunction(i.placeholder)?i.placeholder(e):i.placeholder;if(i.fn===null){if(t>-1&&c().validPositions[t]===undefined&&(u=ut(t),o=[],u.length>1+(u[u.length-1].match.def===""?1:0)))for(f=0;f<u.length;f++)if(u[f].match.optionality!==!0&&u[f].match.optionalQuantifier!==!0&&(u[f].match.fn===null||s===undefined||u[f].match.fn.test(s.match.def,c(),t,!0,e)!==!1)&&(o.push(u[f]),u[f].match.fn===null&&(s=u[f]),o.length>1&&/[0-9a-bA-Z]/.test(o[0].match.def)))return e.placeholder.charAt(t%e.placeholder.length);return i.def}return e.placeholder.charAt(t%e.placeholder.length)}function ct(i,r,u,f,o,s){function ft(){var t=!1,r=d().slice(l,p(l)).join("").indexOf(nt),i,n;if(r!==-1&&!tt(l))for(t=!0,i=d().slice(l,l+r),n=0;n<i.length;n++)if(i[n]!==" "){t=!1;break}return t}var g=f.slice(),nt="",l=0,h=undefined,rt,k,y,ut;it();c().p=p(-1);u||(e.autoUnmask!==!0?(rt=d().slice(0,p(-1)).join(""),k=g.join("").match(new RegExp("^"+t.escapeRegex(rt),"g")),k&&k.length>0&&(g.splice(0,k.length*rt.length),l=p(l))):l=p(l));n.each(g,function(t,r){var o,y,s;if(r!==undefined){o=new n.Event("keypress");o.which=r.charCodeAt(0);nt+=r;var f=v(undefined,!0),p=c().validPositions[f],w=ht(f+1,p?p.locator.slice():undefined,f);!ft()||u||e.autoUnmask?(y=u?t:w.match.fn==null&&w.match.optionality&&f+1<c().p?f+1:c().p,h=b.keypressEvent.call(i,o,!0,!1,u,y),l=y+1,nt=""):h=b.keypressEvent.call(i,o,!0,!1,!0,f+1);!u&&n.isFunction(e.onBeforeWrite)&&(h=e.onBeforeWrite(o,a(),h.forwardPosition,e),h&&h.refreshFromBuffer&&(s=h.refreshFromBuffer,kt(s===!0?s:s.start,s.end,h.buffer),it(!0),h.caret&&(c().p=h.caret)))}});r&&(y=undefined,ut=v(),document.activeElement===i&&(o||h)&&(y=w(i).begin,o&&h===!1&&(y=p(v(y))),h&&s!==!0&&(y<ut+1||ut===-1)&&(y=e.numericInput&&h.caret===undefined?vt(h.forwardPosition):h.forwardPosition)),et(i,a(),y,o||new n.Event("checkval")))}function ai(t){var i,r,f,u,o;if(t){if(t.inputmask===undefined)return t.value;t.inputmask&&t.inputmask.refreshValue&&b.setValueEvent.call(t)}i=[];r=c().validPositions;for(f in r)r[f].match&&r[f].match.fn!=null&&i.push(r[f].input);return u=i.length===0?"":(k?i.reverse():i).join(""),n.isFunction(e.onUnMask)&&(o=(k?a().slice().reverse():a()).join(""),u=e.onUnMask(o,u,e)||u),u}function w(n,t,i,r){function f(n){if(r!==!0&&k&&typeof n=="number"&&(!e.greedy||e.placeholder!=="")){var t=a().join("").length;n=t-n}return n}var u,o,c,s;if(typeof t=="number")t=f(t),i=f(i),i=typeof i=="number"?i:t,o=parseInt(((n.ownerDocument.defaultView||window).getComputedStyle?(n.ownerDocument.defaultView||window).getComputedStyle(n,null):n.currentStyle).fontSize)*i,n.scrollLeft=o>n.scrollWidth?o:0,h||e.insertMode!==!1||t!==i||i++,n.setSelectionRange?(n.selectionStart=t,n.selectionEnd=i):window.getSelection?(u=document.createRange(),(n.firstChild===undefined||n.firstChild===null)&&(c=document.createTextNode(""),n.appendChild(c)),u.setStart(n.firstChild,t<n.inputmask._valueGet().length?t:n.inputmask._valueGet().length),u.setEnd(n.firstChild,i<n.inputmask._valueGet().length?i:n.inputmask._valueGet().length),u.collapse(!0),s=window.getSelection(),s.removeAllRanges(),s.addRange(u)):n.createTextRange&&(u=n.createTextRange(),u.collapse(!0),u.moveEnd("character",i),u.moveStart("character",t),u.select()),ei(n,undefined,{begin:t,end:i});else return n.setSelectionRange?(t=n.selectionStart,i=n.selectionEnd):window.getSelection?(u=window.getSelection().getRangeAt(0),(u.commonAncestorContainer.parentNode===n||u.commonAncestorContainer===n)&&(t=u.startOffset,i=u.endOffset)):document.selection&&document.selection.createRange&&(u=document.selection.createRange(),t=0-u.duplicate().moveStart("character",-n.inputmask._valueGet().length),i=t+u.text.length),{begin:f(t),end:f(i)}}function ui(t){for(var s=a(),f=s.length,h=v(),e={},u=c().validPositions[h],l=u!==undefined?u.locator.slice():undefined,r,o,i=h+1;i<s.length;i++)r=ht(i,l,i-1),l=r.locator.slice(),e[i]=n.extend(!0,{},r);for(o=u&&u.alternation!==undefined?u.locator[u.alternation]:undefined,i=f-1;i>h;i--)if(r=e[i],(r.match.optionality||r.match.optionalQuantifier||o&&(o!==e[i].locator[u.alternation]&&r.match.fn!=null||r.match.fn===null&&r.locator[u.alternation]&&ri(r.locator[u.alternation].toString().split(","),o.toString().split(","))&&ut(i)[0].def!==""))&&s[i]===g(i,r.match))f--;else break;return t?{l:f,def:e[f]?e[f].match:undefined}:f}function pt(n){for(var t=ui(),i,r=n.length;t<r&&!tt(t+1)&&(i=ot(t+1))&&i.match.optionality!==!0&&i.match.optionalQuantifier!==!0;)t++;while((i=ot(t-1))&&i.match.optionality&&i.input===e.skipOptionalPartCharacter)t--;return n.splice(t),n}function lt(t){var i,r;if(n.isFunction(e.isComplete))return e.isComplete(t,e);if(e.repeat==="*")return undefined;var f=!1,u=ui(!0),o=vt(u.l);if(u.def===undefined||u.def.newBlockMarker||u.def.optionality||u.def.optionalQuantifier)for(f=!0,i=0;i<=o;i++)if(r=ht(i).match,r.fn!==null&&c().validPositions[i]===undefined&&r.optionality!==!0&&r.optionalQuantifier!==!0||r.fn===null&&t[i]!==g(i,r)){f=!1;break}return f}function fi(i,r,u,f){function h(){var t,f;if(e.keepStatic){for(var u=[],r=v(-1,!0),s=n.extend(!0,{},c().validPositions),o=c().validPositions[r];r>=0;r--)if(t=c().validPositions[r],t){if(t.generatedInput!==!0&&/[0-9a-bA-Z]/.test(t.input)&&u.push(t.input),delete c().validPositions[r],t.alternation!==undefined&&t.locator[t.alternation]!==o.locator[t.alternation])break;o=t}if(r>-1)for(c().p=p(v(-1,!0));u.length>0;)f=new n.Event("keypress"),f.which=u.pop().charCodeAt(0),b.keypressEvent.call(i,f,!0,!1,!1,c().p);else c().validPositions=n.extend(!0,{},s)}}var s,o;(e.numericInput||k)&&(r===t.keyCode.BACKSPACE?r=t.keyCode.DELETE:r===t.keyCode.DELETE&&(r=t.keyCode.BACKSPACE),k&&(s=u.end,u.end=u.begin,u.begin=s));r===t.keyCode.BACKSPACE&&(u.end-u.begin<1||e.insertMode===!1)?(u.begin=vt(u.begin),c().validPositions[u.begin]!==undefined&&(c().validPositions[u.begin].input===e.groupSeparator||c().validPositions[u.begin].input===e.radixPoint)&&u.begin--):r===t.keyCode.DELETE&&u.begin===u.end&&(u.end=tt(u.end,!0)?u.end+1:p(u.end)+1,c().validPositions[u.begin]!==undefined&&(c().validPositions[u.begin].input===e.groupSeparator||c().validPositions[u.begin].input===e.radixPoint)&&u.end++);ci(u.begin,u.end,!1,f);f!==!0&&h();o=v(u.begin,!0);o<u.begin?c().p=p(o):f!==!0&&(c().p=u.begin)}function vi(t){function o(n){var r=document.createElement("span"),u,f,e,o,h,s,c;for(f in i)isNaN(f)&&f.indexOf("font")!==-1&&(r.style[f]=i[f]);for(r.style.textTransform=i.textTransform,r.style.letterSpacing=i.letterSpacing,r.style.position="absolute",r.style.height="auto",r.style.width="auto",r.style.visibility="hidden",r.style.whiteSpace="nowrap",document.body.appendChild(r),e=t.inputmask._valueGet(),o=0,u=0,h=e.length;u<=h;u++){if(r.innerHTML+=e.charAt(u)||"_",r.offsetWidth>=n){s=n-o;c=r.offsetWidth-n;r.innerHTML=e.charAt(u);s-=r.offsetWidth/3;u=s<c?u-1:u;break}o=r.offsetWidth}return document.body.removeChild(r),u}function f(){nt.style.position="absolute";nt.style.top=u.top+"px";nt.style.left=u.left+"px";nt.style.width=parseInt(t.offsetWidth)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth)+"px";nt.style.height=parseInt(t.offsetHeight)-parseInt(i.paddingTop)-parseInt(i.paddingBottom)-parseInt(i.borderTopWidth)-parseInt(i.borderBottomWidth)+"px";nt.style.lineHeight=nt.style.height;nt.style.zIndex=isNaN(i.zIndex)?-1:i.zIndex-1;nt.style.webkitAppearance="textfield";nt.style.mozAppearance="textfield";nt.style.Appearance="textfield"}var u=n(t).position(),i=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),s=t.parentNode,r;nt=document.createElement("div");document.body.appendChild(nt);for(r in i)isNaN(r)&&r!=="cssText"&&r.indexOf("webkit")==-1&&(nt.style[r]=i[r]);t.style.backgroundColor="transparent";t.style.color="transparent";t.style.webkitAppearance="caret";t.style.mozAppearance="caret";t.style.Appearance="caret";f();n(window).on("resize",function(){u=n(t).position();i=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);f()});n(t).on("click",function(n){return w(t,o(n.clientX)),b.clickEvent.call(this,[n])});n(t).on("keydown",function(n){n.shiftKey||e.insertMode===!1||setTimeout(function(){ei(t)},0)})}function ei(n,t,i){function y(){s||o.fn!==null&&u.input!==undefined?s&&o.fn!==null&&u.input!==undefined&&(s=!1,f+="<\/span>"):(s=!0,f+="<span class='im-static''>")}var f,s,h,r,o,u,l;if(nt!==undefined){if(t=t||a(),i===undefined?i=w(n):i.begin===undefined&&(i={begin:i,end:i}),f="",s=!1,t!=""){r=0;l=v();do r===i.begin&&document.activeElement===n&&(f+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'><\/span>"),c().validPositions[r]?(u=c().validPositions[r],o=u.match,h=u.locator.slice(),y(),f+=u.input):(u=ht(r,h,r-1),o=u.match,h=u.locator.slice(),(e.jitMasking===!1||r<l||typeof e.jitMasking=="number"&&isFinite(e.jitMasking)&&e.jitMasking>r)&&(y(),f+=g(r,o))),r++;while((at===undefined||r<at)&&(o.fn!==null||o.def!=="")||l>r)}nt.innerHTML=f}}function bi(t){function f(t,i){function e(t){function s(t){if(n.valHooks&&(n.valHooks[t]===undefined||n.valHooks[t].inputmaskpatch!==!0)){var r=n.valHooks[t]&&n.valHooks[t].get?n.valHooks[t].get:function(n){return n.value},u=n.valHooks[t]&&n.valHooks[t].set?n.valHooks[t].set:function(n,t){return n.value=t,n};n.valHooks[t]={get:function(n){if(n.inputmask){if(n.inputmask.opts.autoUnmask)return n.inputmask.unmaskedvalue();var t=r(n);return v(undefined,undefined,n.inputmask.maskset.validPositions)!==-1||i.nullable!==!0?t:""}return r(n)},set:function(t,i){var f=n(t),r;return r=u(t,i),t.inputmask&&f.trigger("setvalue"),r},inputmaskpatch:!0}}}function e(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():v()!==-1||i.nullable!==!0?document.activeElement===this&&i.clearMaskOnLostFocus?(k?pt(a().slice()).reverse():pt(a().slice())).join(""):r.call(this):"":r.call(this)}function o(t){u.call(this,t);this.inputmask&&n(this).trigger("setvalue")}function h(t){y.on(t,"mouseenter",function(){var t=n(this),i=this,r=i.inputmask._valueGet();r!==a().join("")&&t.trigger("setvalue")})}var r,u,f;t.inputmask.__valueGet||(i.noValuePatching!==!0&&(Object.getOwnPropertyDescriptor?(typeof Object.getPrototypeOf!="function"&&(Object.getPrototypeOf=typeof"test".__proto__=="object"?function(n){return n.__proto__}:function(n){return n.constructor.prototype}),f=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):undefined,f&&f.get&&f.set?(r=f.get,u=f.set,Object.defineProperty(t,"value",{get:e,set:o,configurable:!0})):t.tagName!=="INPUT"&&(r=function(){return this.textContent},u=function(n){this.textContent=n},Object.defineProperty(t,"value",{get:e,set:o,configurable:!0}))):document.__lookupGetter__&&t.__lookupGetter__("value")&&(r=t.__lookupGetter__("value"),u=t.__lookupSetter__("value"),t.__defineGetter__("value",e),t.__defineSetter__("value",o)),t.inputmask.__valueGet=r,t.inputmask.__valueSet=u),t.inputmask._valueGet=function(n){return k&&n!==!0?r.call(this.el).split("").reverse().join(""):r.call(this.el)},t.inputmask._valueSet=function(n,t){u.call(this.el,n===null||n===undefined?"":t!==!0&&k?n.split("").reverse().join(""):n)},r===undefined&&(r=function(){return this.value},u=function(n){this.value=n},s(t.type),h(t)))}var f=t.getAttribute("type"),r=t.tagName==="INPUT"&&n.inArray(f,i.supportsInputType)!==-1||t.isContentEditable||t.tagName==="TEXTAREA",u;return r||(t.tagName==="INPUT"?(u=document.createElement("input"),u.setAttribute("type",f),r=u.type==="text",u=null):r="partial"),r!==!1&&e(t),r}var r=f(t,e),u,i;if(r!==!1){if(l=t,wt=n(l),(l.dir==="rtl"||e.rightAlign)&&(l.style.textAlign="right"),(l.dir==="rtl"||e.numericInput)&&(l.dir="ltr",l.removeAttribute("dir"),l.inputmask.isRTL=!0,k=!0),e.colorMask===!0&&vi(l),s&&(l.hasOwnProperty("inputmode")&&(l.inputmode=e.inputmode,l.setAttribute("inputmode",e.inputmode)),e.androidHack==="rtfm"&&(e.colorMask!==!0&&vi(l),l.type="password")),y.off(l),r===!0){y.on(l,"submit",b.submitEvent);y.on(l,"reset",b.resetEvent);y.on(l,"mouseenter",b.mouseenterEvent);y.on(l,"blur",b.blurEvent);y.on(l,"focus",b.focusEvent);y.on(l,"mouseleave",b.mouseleaveEvent);if(e.colorMask!==!0)y.on(l,"click",b.clickEvent);y.on(l,"dblclick",b.dblclickEvent);y.on(l,"paste",b.pasteEvent);y.on(l,"dragdrop",b.pasteEvent);y.on(l,"drop",b.pasteEvent);y.on(l,"cut",b.cutEvent);y.on(l,"complete",e.oncomplete);y.on(l,"incomplete",e.onincomplete);y.on(l,"cleared",e.oncleared);if(!s||e.inputEventOnly!==!0){y.on(l,"keydown",b.keydownEvent);y.on(l,"keypress",b.keypressEvent)}y.on(l,"compositionstart",n.noop);y.on(l,"compositionupdate",n.noop);y.on(l,"compositionend",n.noop);y.on(l,"keyup",n.noop);y.on(l,"input",b.inputFallBackEvent);y.on(l,"beforeinput",n.noop)}y.on(l,"setvalue",b.setValueEvent);d();(l.inputmask._valueGet()!==""||e.clearMaskOnLostFocus===!1||document.activeElement===l)&&(u=n.isFunction(e.onBeforeMask)?e.onBeforeMask(l.inputmask._valueGet(),e)||l.inputmask._valueGet():l.inputmask._valueGet(),ct(l,!0,!1,u.split("")),i=a().slice(),ft=i.join(""),lt(i)===!1&&e.clearIncomplete&&it(),e.clearMaskOnLostFocus&&document.activeElement!==l&&(v()===-1?i=[]:pt(i)),et(l,i),document.activeElement===l&&w(l,p(v())))}}var y,b,rt,yi,gt;u=u||this.maskset;e=e||this.opts;var l=this.el,k=this.isRTL,ft,wt,ni=!1,bt=!1,hi=!1,at,ti=!1,nt;if(y={on:function(i,r,u){var s=function(i){var r,h,c,s;if(this.inputmask===undefined&&this.nodeName!=="FORM")r=n.data(this,"_inputmask_opts"),r?new t(r).mask(this):y.off(this);else{if(i.type==="setvalue"||this.nodeName==="FORM"||!this.disabled&&(!this.readOnly||i.type==="keydown"&&i.ctrlKey&&i.keyCode===67||e.tabThrough===!1&&i.keyCode===t.keyCode.TAB)){switch(i.type){case"input":if(bt===!0)return bt=!1,i.preventDefault();break;case"keydown":ni=!1;bt=!1;break;case"keypress":if(ni===!0)return i.preventDefault();ni=!0;break;case"click":if(f||o)return h=this,c=arguments,setTimeout(function(){u.apply(h,c)},0),!1}return s=u.apply(this,arguments),s===!1&&(i.preventDefault(),i.stopPropagation()),s}i.preventDefault()}};if(i.inputmask.events[r]=i.inputmask.events[r]||[],i.inputmask.events[r].push(s),n.inArray(r,["submit","reset"])!==-1){if(i.form!=null)n(i.form).on(r,s)}else n(i).on(r,s)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var r;i?(r=[],r[i]=t.inputmask.events[i]):r=t.inputmask.events;n.each(r,function(i,r){while(r.length>0){var u=r.pop();n.inArray(i,["submit","reset"])!==-1?t.form!=null&&n(t.form).off(i,u):n(t).off(i,u)}delete t.inputmask.events[i]})}}},b={keydownEvent:function(i){function l(n){var t=document.createElement("input"),i="on"+n,r=i in t;return r||(t.setAttribute(i,"return;"),r=typeof t[i]=="function"),t=null,r}var u=this,h=n(u),f=i.keyCode,r=w(u),s;f===t.keyCode.BACKSPACE||f===t.keyCode.DELETE||o&&f===t.keyCode.BACKSPACE_SAFARI||i.ctrlKey&&f===t.keyCode.X&&!l("cut")?(i.preventDefault(),fi(u,f,r),et(u,a(!0),c().p,i,u.inputmask._valueGet()!==a().join("")),u.inputmask._valueGet()===d().join("")?h.trigger("cleared"):lt(a())===!0&&h.trigger("complete")):f===t.keyCode.END||f===t.keyCode.PAGE_DOWN?(i.preventDefault(),s=p(v()),e.insertMode||s!==c().maskLength||i.shiftKey||s--,w(u,i.shiftKey?r.begin:s,s,!0)):(f!==t.keyCode.HOME||i.shiftKey)&&f!==t.keyCode.PAGE_UP?(e.undoOnEscape&&f===t.keyCode.ESCAPE||f===90&&i.ctrlKey)&&i.altKey!==!0?(ct(u,!0,!1,ft.split("")),h.trigger("click")):f!==t.keyCode.INSERT||i.shiftKey||i.ctrlKey?e.tabThrough===!0&&f===t.keyCode.TAB?(i.shiftKey===!0?(ot(r.begin).match.fn===null&&(r.begin=p(r.begin)),r.end=vt(r.begin,!0),r.begin=vt(r.end,!0)):(r.begin=p(r.begin,!0),r.end=p(r.begin,!0),r.end<c().maskLength&&r.end--),r.begin<c().maskLength&&(i.preventDefault(),w(u,r.begin,r.end))):i.shiftKey||e.insertMode===!1&&(f===t.keyCode.RIGHT?setTimeout(function(){var n=w(u);w(u,n.begin)},0):f===t.keyCode.LEFT&&setTimeout(function(){var n=w(u);w(u,k?n.begin+1:n.begin-1)},0)):(e.insertMode=!e.insertMode,w(u,!e.insertMode&&r.begin===c().maskLength?r.begin-1:r.begin)):(i.preventDefault(),w(u,0,i.shiftKey?r.begin:0,!0));e.onKeyDown.call(this,i,a(),w(u).begin,e);hi=n.inArray(f,e.ignorables)!==-1},keypressEvent:function(i,r,u,f,o){var v=this,b=n(v),h=i.which||i.charCode||i.keyCode,k,l,d,s,g,y;if(r===!0||i.ctrlKey&&i.altKey||!(i.ctrlKey||i.metaKey||hi)){if(h&&(h===46&&i.shiftKey===!1&&e.radixPoint!==""&&(h=e.radixPoint.charCodeAt(0)),k=r?{begin:o,end:o}:w(v),d=String.fromCharCode(h),c().writeOutBuffer=!0,s=st(k,d,f),s!==!1&&(it(!0),l=s.caret!==undefined?s.caret:r?s.pos+1:p(s.pos),c().p=l),u!==!1&&(g=this,setTimeout(function(){e.onKeyValidation.call(g,h,s,e)},0),c().writeOutBuffer&&s!==!1&&(y=a(),et(v,y,e.numericInput&&s.caret===undefined?vt(l):l,i,r!==!0),r!==!0&&setTimeout(function(){lt(y)===!0&&b.trigger("complete")},0))),i.preventDefault(),r))return s.forwardPosition=l,s}else return h===t.keyCode.ENTER&&ft!==a().join("")&&(ft=a().join(""),setTimeout(function(){b.trigger("change")},0)),!0},pasteEvent:function(t){var s=this,c=t.originalEvent||t,l=n(s),i=s.inputmask._valueGet(!0),r=w(s),h,u,f,o;if(k&&(h=r.end,r.end=r.begin,r.begin=h),u=i.substr(0,r.begin),f=i.substr(r.end,i.length),u===(k?d().reverse():d()).slice(0,r.begin).join("")&&(u=""),f===(k?d().reverse():d()).slice(r.end).join("")&&(f=""),k&&(h=u,u=f,f=h),window.clipboardData&&window.clipboardData.getData)i=u+window.clipboardData.getData("Text")+f;else if(c.clipboardData&&c.clipboardData.getData)i=u+c.clipboardData.getData("text/plain")+f;else return!0;if(o=i,n.isFunction(e.onBeforePaste)){if(o=e.onBeforePaste(i,e),o===!1)return t.preventDefault();o||(o=i)}return ct(s,!1,!1,k?o.split("").reverse():o.toString().split("")),et(s,a(),p(v()),t,ft!==a().join("")),lt(a())===!0&&l.trigger("complete"),t.preventDefault()},inputFallBackEvent:function(i){var e=this,r=e.inputmask._valueGet(),u,s,h,l,o;if(a().join("")!==r){if(u=w(e),r=r.replace(new RegExp("("+t.escapeRegex(d().join(""))+")*"),""),f&&(s=r.replace(a().join(""),""),s.length===1))return h=new n.Event("keypress"),h.which=s.charCodeAt(0),b.keypressEvent.call(e,h,!0,!0,!1,c().validPositions[u.begin-1]?u.begin:u.begin-1),!1;if(u.begin>r.length&&(w(e,r.length),u=w(e)),a().length-r.length!=1||r.charAt(u.begin)===a()[u.begin]||r.charAt(u.begin+1)===a()[u.begin]||tt(u.begin)){for(l=v()+1,o=d().join("");r.match(t.escapeRegex(o)+"$")===null;)o=o.slice(1);r=r.replace(o,"");r=r.split("");ct(e,!0,!1,r,i,u.begin<l);lt(a())===!0&&n(e).trigger("complete")}else i.keyCode=t.keyCode.BACKSPACE,b.keydownEvent.call(e,i);i.preventDefault()}},setValueEvent:function(){this.inputmask.refreshValue=!1;var t=this,i=t.inputmask._valueGet();ct(t,!0,!1,(n.isFunction(e.onBeforeMask)?e.onBeforeMask(i,e)||i:i).split(""));ft=a().join("");(e.clearMaskOnLostFocus||e.clearIncomplete)&&t.inputmask._valueGet()===d().join("")&&t.inputmask._valueSet("")},focusEvent:function(n){var t=this,i=t.inputmask._valueGet();e.showMaskOnFocus&&(!e.showMaskOnHover||e.showMaskOnHover&&i==="")&&(t.inputmask._valueGet()!==a().join("")?et(t,a(),p(v())):ti===!1&&w(t,p(v())));e.positionCaretOnTab===!0&&b.clickEvent.apply(t,[n,!0]);ft=a().join("")},mouseleaveEvent:function(){var n=this,t,i;ti=!1;e.clearMaskOnLostFocus&&document.activeElement!==n&&(t=a().slice(),i=n.inputmask._valueGet(),i!==n.getAttribute("placeholder")&&i!==""&&(v()===-1&&i===d().join("")?t=[]:pt(t),et(n,t)))},clickEvent:function(t,i){function u(t){var i,u,r;if(e.radixPoint!==""&&(i=c().validPositions,i[t]===undefined||i[t].input===g(t))){if(t<p(-1))return!0;if(u=n.inArray(e.radixPoint,a()),u!==-1){for(r in i)if(u<r&&i[r].input!==g(r))return!1;return!0}}return!1}var r=this;setTimeout(function(){var f,h,s;if(document.activeElement===r&&(f=w(r),i&&(f.begin=f.end),f.begin===f.end))switch(e.positionCaretOnClick){case"none":break;case"radixFocus":if(u(f.begin)){h=n.inArray(e.radixPoint,a().join(""));w(r,e.numericInput?p(h):h);break}default:var o=f.begin,c=v(o,!0),t=p(c);o<t?w(r,!tt(o)&&!tt(o-1)?p(o):o):(s=g(t),(s===""||a()[t]===s||ot(t).match.optionalQuantifier===!0)&&(tt(t)||ot(t).match.def!==s)||(t=p(t)),w(r,t))}},0)},dblclickEvent:function(){var n=this;setTimeout(function(){w(n,0,p(v()))},0)},cutEvent:function(i){var r=this,e=n(r),u=w(r),o=i.originalEvent||i,s=window.clipboardData||o.clipboardData,f=k?a().slice(u.end,u.begin):a().slice(u.begin,u.end);s.setData("text",k?f.reverse().join(""):f.join(""));document.execCommand&&document.execCommand("copy");fi(r,t.keyCode.DELETE,u);et(r,a(),c().p,i,ft!==a().join(""));r.inputmask._valueGet()===d().join("")&&e.trigger("cleared")},blurEvent:function(t){var f=n(this),r=this,u,i;r.inputmask&&(u=r.inputmask._valueGet(),i=a().slice(),ft!==i.join("")&&setTimeout(function(){f.trigger("change");ft=i.join("")},0),u!==""&&(e.clearMaskOnLostFocus&&(v()===-1&&u===d().join("")?i=[]:pt(i)),lt(i)===!1&&(setTimeout(function(){f.trigger("incomplete")},0),e.clearIncomplete&&(it(),i=e.clearMaskOnLostFocus?[]:d().slice())),et(r,i,undefined,t)))},mouseenterEvent:function(){var n=this;ti=!0;document.activeElement!==n&&e.showMaskOnHover&&n.inputmask._valueGet()!==a().join("")&&et(n,a())},submitEvent:function(){ft!==a().join("")&&wt.trigger("change");e.clearMaskOnLostFocus&&v()===-1&&l.inputmask._valueGet&&l.inputmask._valueGet()===d().join("")&&l.inputmask._valueSet("");e.removeMaskOnSubmit&&(l.inputmask._valueSet(l.inputmask.unmaskedvalue(),!0),setTimeout(function(){et(l,a())},0))},resetEvent:function(){l.inputmask.refreshValue=!0;setTimeout(function(){wt.trigger("setvalue")},0)}},r!==undefined)switch(r.action){case"isComplete":return l=r.el,lt(a());case"unmaskedvalue":if((l===undefined||r.value!==undefined)&&(rt=r.value,rt=(n.isFunction(e.onBeforeMask)?e.onBeforeMask(rt,e)||rt:rt).split(""),ct(undefined,!1,!1,k?rt.reverse():rt),n.isFunction(e.onBeforeWrite)))e.onBeforeWrite(undefined,a(),0,e);return ai(l);case"mask":bi(l);break;case"format":if(rt=(n.isFunction(e.onBeforeMask)?e.onBeforeMask(r.value,e)||r.value:r.value).split(""),ct(undefined,!1,!1,k?rt.reverse():rt),n.isFunction(e.onBeforeWrite))e.onBeforeWrite(undefined,a(),0,e);return r.metadata?{value:k?a().slice().reverse().join(""):a().join(""),metadata:i.call(this,{action:"getmetadata"},u,e)}:k?a().slice().reverse().join(""):a().join("");case"isValid":r.value?(rt=r.value.split(""),ct(undefined,!1,!0,k?rt.reverse():rt)):r.value=a().join("");for(var oi=a(),si=ui(),dt=oi.length-1;dt>si;dt--)if(tt(dt))break;return oi.splice(si,dt+1-si),lt(oi)&&r.value===a().join("");case"getemptymask":return d().join("");case"remove":return l&&(wt=n(l),l.inputmask._valueSet(ai(l)),y.off(l),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(yi=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(l),"value"),yi&&l.inputmask.__valueGet&&Object.defineProperty(l,"value",{get:l.inputmask.__valueGet,set:l.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&l.__lookupGetter__("value")&&l.inputmask.__valueGet&&(l.__defineGetter__("value",l.inputmask.__valueGet),l.__defineSetter__("value",l.inputmask.__valueSet)),l.inputmask=undefined),l;case"getmetadata":return n.isArray(u.metadata)?(gt=ii(!0,0,!1).join(""),n.each(u.metadata,function(n,t){if(t.mask===gt)return gt=t,!1}),gt):u.metadata}}var u=navigator.userAgent,h=/mobile/i.test(u),f=/iemobile/i.test(u),o=/iphone/i.test(u)&&!f,s=/android/i.test(u)&&!f;return t.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:n.noop,onincomplete:n.noop,oncleared:n.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:n.noop,onBeforeMask:null,onBeforePaste:function(t,i){return n.isFunction(i.onBeforeMask)?i.onBeforeMask(t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:n.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:undefined,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:n.noop,postValidation:null,staticDefinitionSymbol:undefined,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},aliases:{},masksCache:{},mask:function(u){function o(t,i,r,u){function l(n,i){i=i!==undefined?i:t.getAttribute(u+"-"+n);i!==null&&(typeof i=="string"&&(n.indexOf("on")===0?i=window[i]:i==="false"?i=!1:i==="true"&&(i=!0)),r[n]=i)}var h=t.getAttribute(u),c,f,o,s;if(h&&h!==""&&(h=h.replace(new RegExp("'","g"),'"'),f=JSON.parse("{"+h+"}")),f){o=undefined;for(s in f)if(s.toLowerCase()==="alias"){o=f[s];break}}l("alias",o);r.alias&&e(r.alias,r,i);for(c in i){if(f){o=undefined;for(s in f)if(s.toLowerCase()===c.toLowerCase()){o=f[s];break}}l(c,o)}return n.extend(!0,i,r),i}var f=this;return typeof u=="string"&&(u=document.getElementById(u)||document.querySelectorAll(u)),u=u.nodeName?[u]:u,n.each(u,function(u,e){var s=n.extend(!0,{},f.opts),h;o(e,s,n.extend(!0,{},f.userOptions),f.dataAttribute);h=r(s,f.noMasksCache);h!==undefined&&(e.inputmask!==undefined&&e.inputmask.remove(),e.inputmask=new t(undefined,undefined,!0),e.inputmask.opts=s,e.inputmask.noMasksCache=f.noMasksCache,e.inputmask.userOptions=n.extend(!0,{},f.userOptions),e.inputmask.isRTL=f.isRTL,e.inputmask.el=e,e.inputmask.maskset=h,n.data(e,"_inputmask_opts",s),i.call(e.inputmask,{action:"mask"}))}),u&&u[0]?u[0].inputmask||this:this},option:function(t,i){return typeof t=="string"?this.opts[t]:typeof t=="object"?(n.extend(this.userOptions,t),this.el&&i!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(n){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),i.call(this,{action:"unmaskedvalue",value:n})},remove:function(){return i.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),i.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),i.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),i.call(this,{action:"getmetadata"})},isValid:function(n){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),i.call(this,{action:"isValid",value:n})},format:function(n,t){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),i.call(this,{action:"format",value:n,metadata:t})},analyseMask:function(i,r){function l(n,t,i,r){this.matches=[];this.openGroup=n||!1;this.isGroup=n||!1;this.isOptional=t||!1;this.isQuantifier=i||!1;this.isAlternator=r||!1;this.quantifier={min:1,max:1}}function w(n,i,u){var f=(r.definitions?r.definitions[i]:undefined)||t.prototype.definitions[i],e,s,c,o;if(u=u!==undefined?u:n.matches.length,e=n.matches[u-1],f&&!p){for(s=f.prevalidator,c=s?s.length:0,o=1;o<f.cardinality;o++){var l=c>=o?s[o-1]:[],h=l.validator,a=l.cardinality;n.matches.splice(u++,0,{fn:h?typeof h=="string"?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:a?a:1,optionality:n.isOptional,newBlockMarker:e===undefined||e.def!==(f.definitionSymbol||i),casing:f.casing,def:f.definitionSymbol||i,placeholder:f.placeholder,nativeDef:i});e=n.matches[u-1]}n.matches.splice(u++,0,{fn:f.validator?typeof f.validator=="string"?new RegExp(f.validator):new function(){this.test=f.validator}:new RegExp("."),cardinality:f.cardinality,optionality:n.isOptional,newBlockMarker:e===undefined||e.def!==(f.definitionSymbol||i),casing:f.casing,def:f.definitionSymbol||i,placeholder:f.placeholder,nativeDef:i})}else n.matches.splice(u++,0,{fn:null,cardinality:0,optionality:n.isOptional,newBlockMarker:e===undefined||e.def!==i,casing:null,def:r.staticDefinitionSymbol||i,placeholder:r.staticDefinitionSymbol!==undefined?i:undefined,nativeDef:i}),p=!1}function rt(t){t&&t.matches&&n.each(t.matches,function(n,i){var u=t.matches[n+1];(u===undefined||u.matches===undefined||u.isQuantifier===!1)&&i&&i.isGroup&&(i.isGroup=!1,w(i,r.groupmarker.start,0),i.openGroup!==!0&&w(i,r.groupmarker.end));rt(i)})}function tt(){if(u.length>0){if(s=u[u.length-1],w(s,h),s.isAlternator){f=u.pop();for(var n=0;n<f.matches.length;n++)f.matches[n].isGroup=!1;u.length>0?(s=u[u.length-1],s.matches.push(f)):e.matches.push(f)}}else w(e,h)}function ut(n){function f(n){return n===r.optionalmarker.start?n=r.optionalmarker.end:n===r.optionalmarker.end?n=r.optionalmarker.start:n===r.groupmarker.start?n=r.groupmarker.end:n===r.groupmarker.end&&(n=r.groupmarker.start),n}var t,i,u;n.matches=n.matches.reverse();for(t in n.matches)n.matches.hasOwnProperty(t)&&(i=parseInt(t),n.matches[t].isQuantifier&&n.matches[i+1]&&n.matches[i+1].isGroup&&(u=n.matches[t],n.matches.splice(t,1),n.matches.splice(i+1,0,u)),n.matches[t]=n.matches[t].matches!==undefined?ut(n.matches[t]):f(n.matches[t]));return n}for(var ft=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,p=!1,e=new l,o,h,u=[],nt=[],c,s,f,y,v,b,k,g;o=ft.exec(i);){if(h=o[0],p){tt();continue}switch(h.charAt(0)){case r.escapeChar:p=!0;break;case r.optionalmarker.end:case r.groupmarker.end:if(c=u.pop(),c.openGroup=!1,c!==undefined)if(u.length>0){if(s=u[u.length-1],s.matches.push(c),s.isAlternator){for(f=u.pop(),b=0;b<f.matches.length;b++)f.matches[b].isGroup=!1;u.length>0?(s=u[u.length-1],s.matches.push(f)):e.matches.push(f)}}else e.matches.push(c);else tt();break;case r.optionalmarker.start:u.push(new l(!1,!0));break;case r.groupmarker.start:u.push(new l(!0));break;case r.quantifiermarker.start:k=new l(!1,!1,!0);h=h.replace(/[{}]/g,"");var a=h.split(","),it=isNaN(a[0])?a[0]:parseInt(a[0]),d=a.length===1?it:isNaN(a[1])?a[1]:parseInt(a[1]);(d==="*"||d==="+")&&(it=d==="*"?0:1);k.quantifier={min:it,max:d};u.length>0?(g=u[u.length-1].matches,o=g.pop(),o.isGroup||(v=new l(!0),v.matches.push(o),o=v),g.push(o),g.push(k)):(o=e.matches.pop(),o.isGroup||(v=new l(!0),v.matches.push(o),o=v),e.matches.push(o),e.matches.push(k));break;case r.alternatormarker:u.length>0?(s=u[u.length-1],y=s.matches.pop()):y=e.matches.pop();y.isAlternator?u.push(y):(f=new l(!1,!1,!1,!0),f.matches.push(y),u.push(f));break;default:tt()}}while(u.length>0)c=u.pop(),e.matches.push(c);return e.matches.length>0&&(rt(e),nt.push(e)),r.numericInput&&ut(nt[0]),nt}},t.extendDefaults=function(i){n.extend(!0,t.prototype.defaults,i)},t.extendDefinitions=function(i){n.extend(!0,t.prototype.definitions,i)},t.extendAliases=function(i){n.extend(!0,t.prototype.aliases,i)},t.format=function(n,i,r){return t(i).format(n,r)},t.unmask=function(n,i){return t(i).unmaskedvalue(n)},t.isValid=function(n,i){return t(i).isValid(n)},t.remove=function(t){n.each(t,function(n,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(n){return n.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=t,t});